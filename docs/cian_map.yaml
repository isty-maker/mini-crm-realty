version: 1
stop_fields:  # НЕ экспортируемые служебные/внутренние
  - id
  - status
  - is_archived
  - export_to_cian
  - export_to_domklik
  - created_at
  - updated_at
  - object_tour_url   # у ЦИАН нет отдельного тега (не выводим)
  - furnishing_details  # описательный текст — не тег ЦИАН
  - title              # внутренний заголовок
  - jk_id
  - jk_name
  - house_id
  - house_name
  - section_number
  - undergrounds
  - metro

# Универсальные поля (для всех категорий объявлений)
common:
  fields:
    external_id: "ExternalId"
    description: "Description"
    address: "Address"
    cadastral_number: "CadastralNumber"
    # Геолокация: пример ожидает Lat/Lng, а не Latitude/Longitude
    lat: "Coordinates.Lat"
    lng: "Coordinates.Lng"
    # Общие удобства (по-настоящему универсальные)
    is_euro_flat: "IsEuroFlat"
    windows_view_type: "WindowsViewType"
    separate_wcs_count: "SeparateWcsCount"
    combined_wcs_count: "CombinedWcsCount"
    repair_type: "RepairType"
    has_internet: "HasInternet"
    has_furniture: "HasFurniture"
    has_kitchen_furniture: "HasKitchenFurniture"
    has_tv: "HasTv"
    has_washer: "HasWasher"
    has_conditioner: "HasConditioner"
    has_refrigerator: "HasRefrigerator"
    has_dishwasher: "HasDishwasher"
    has_shower: "HasShower"
    has_bathtub: "HasBathtub"
    has_phone: "HasPhone"

  phones:
    # Строгая структура телефонов ЦИАН
    - "Phones.PhoneSchema[0].CountryCode:phone_country"
    - "Phones.PhoneSchema[0].Number:phone_number"
    - "Phones.PhoneSchema[1].CountryCode:phone_country"
    - "Phones.PhoneSchema[1].Number:phone_number2"
  photos:
    # Абсолютные URL и порядок, один IsDefault=true
    full_url: "Photos.PhotoSchema.FullUrl"
    is_default: "Photos.PhotoSchema.IsDefault"
    layout_full_url: "LayoutPhoto.FullUrl"

# Категории (только допустимые теги из доки ЦИАН)
categories:
  flatSale:
    fields:
      total_area: "TotalArea"
      living_area: "LivingArea"
      kitchen_area: "KitchenArea"
      floor_number: "FloorNumber"
      # В фидах ЦИАН для квартир используют FlatRoomsCount
      flat_rooms_count: "FlatRoomsCount"
      rooms: "RoomsCount"
      # WindowsViewType из примеров вместо устаревшего WindowsView
      windows_view_type: "WindowsViewType" # yard|street|yardAndStreet
      separate_wcs_count: "SeparateWcsCount"
      combined_wcs_count: "CombinedWcsCount"
      repair_type: "RepairType"        # cosmetic|design|euro|no
      is_apartments: "IsApartments"
      is_penthouse: "IsPenthouse"
      loggias_count: "LoggiasCount"
      balconies_count: "BalconiesCount"
      building_floors: "Building.FloorsCount"
      building_build_year: "Building.BuildYear"
      building_material: "Building.MaterialType"
      building_ceiling_height: "Building.CeilingHeight"
      building_passenger_lifts: "Building.PassengerLiftsCount"
      building_cargo_lifts: "Building.CargoLiftsCount"
      building_series: "Building.Series"
      building_has_garbage_chute: "Building.HasGarbageChute"
      building_parking: "Building.Parking"
      flat_number: "Apartment"
  roomSale:
    fields:
      total_area: "RoomArea"
      rooms_for_sale_count: "RoomsForSaleCount"
      floor_number: "FloorNumber"
      room_type_ext: "RoomType"
      building_floors: "Building.FloorsCount"
      building_build_year: "Building.BuildYear"
      building_material: "Building.MaterialType"
      building_ceiling_height: "Building.CeilingHeight"
      building_passenger_lifts: "Building.PassengerLiftsCount"
      building_cargo_lifts: "Building.CargoLiftsCount"
      building_series: "Building.Series"
      building_has_garbage_chute: "Building.HasGarbageChute"
      building_parking: "Building.Parking"
  houseSale:
    fields:
      house_type: "HouseType"
      total_area: "TotalArea"
      building_floors: "HouseFloorsCount"
      building_build_year: "BuildYear"
      building_material: "MaterialType"
      bedrooms_count: "BedroomsCount"
      # Пример использует WcLocationType
      wc_location: "WcLocationType"        # inside|outside
      heating_type: "HeatingType"      # central|gas|electric|solid
      ceiling_height: "CeilingHeight"
      # Per example, tag name is <Condition>…</Condition> (value type ConditionType)
      house_condition: "Condition"
      has_garage: "HasGarage"
      # Земля (в составе дома)
      land_area: "Land.Area"
      land_area_unit: "Land.AreaUnitType"   # sotka|sqm
      permitted_land_use: "Land.PermittedLandUse"
      is_land_with_contract: "Land.IsLandWithContract"
      land_category: "Land.LandCategory"
      # Коммуникации
      gas_supply_type: "Gas.Type"            # main|border|gasHolder|gasBottle
      sewerage_type: "Drainage.Type"         # central|septicTank|cesspool|none
      water_supply_type: "Water.SuburbanWaterType" # central|borehole|well|none
      has_electricity: "HasElectricity"
      has_gas: "HasGas"
      has_water: "HasWater"
      has_drainage: "HasDrainage"
      power: "Electricity.Power"
      has_terrace: "HasTerrace"
      has_cellar: "HasCellar"
      has_pool: "HasPool"
      has_bathhouse: "HasBathhouse"
      has_security: "HasSecurity"
  landSale:
    fields:
      land_area: "Area"
      land_area_unit: "AreaUnitType"
      permitted_land_use: "PermittedLandUse"
      land_category: "LandCategory"
      power: "Electricity.Power"
      is_land_with_contract: "IsLandWithContract"
  commercialSale:
    fields:
      commercial_type: "CommercialType"
      total_area: "TotalArea"
      ceiling_height: "CeilingHeight"
      is_rent_by_parts: "IsRentByParts"
      rent_by_parts_desc: "RentByPartsComment"
      has_parking: "HasParking"
      parking_places: "ParkingPlaces"
      power: "Electricity.Power"
      has_ramp: "HasRamp"
  garageSale:
    fields:
      total_area: "TotalArea"
      power: "Electricity.Power"

  flatRent:
    fields:
      flat_rooms_count: "FlatRoomsCount"
      total_area: "TotalArea"
      floor_number: "FloorNumber"
      rooms: "RoomsCount"
      is_apartments: "IsApartments"
      is_euro_flat: "IsEuroFlat"
      is_penthouse: "IsPenthouse"
      beds_count: "BedsCount"

# Условия сделки
deal_terms:
  fields:
    price: "BargainTerms.Price"
    agent_bonus_value: "BargainTerms.AgentBonus.Value"
    agent_bonus_is_percent: "BargainTerms.AgentBonus.PaymentType"
    currency:
      - "BargainTerms.Currency"
      - "BargainTerms.AgentBonus.Currency"
    mortgage_allowed: "BargainTerms.MortgageAllowed"
    sale_type: "BargainTerms.SaleType"
    security_deposit: "BargainTerms.SecurityDeposit"
    deposit: "BargainTerms.Deposit"
    min_rent_term_months: "BargainTerms.MinRentTermMonths"
    lease_term_type: "BargainTerms.LeaseTermType"
    prepay_months: "BargainTerms.PrepayMonths"
    client_fee: "BargainTerms.ClientFee"
    agent_fee: "BargainTerms.AgentFee"
    utilities_terms: "BargainTerms.UtilitiesTerms"
    bargain_allowed: "BargainTerms.BargainAllowed"
    bargain_price: "BargainTerms.BargainPrice"
    bargain_conditions: "BargainTerms.BargainConditions"

# Преобразование значений (enum/булевы/валюта)
values:
  currency:
    rur: "RUR"
    usd: "USD"
    eur: "EUR"
  agent_bonus_is_percent:
    true: percent
    false: fixed
  room_type:
    separate: separate
    combined: combined
    both: both
  windows_view_type:
    yard: yard
    street: street
    yardAndStreet: yardAndStreet
  repair_type:
    cosmetic: cosmetic
    design: design
    euro: euro
    no: no
  wc_location:
    inside: inside
    outside: outside
  heating_type:
    central: central
    gas: gas
    electric: electric
    solid: solid
  gas_supply_type:
    main_on_plot: main
    border: border
    gasholder: gasHolder
    none: null
  sewerage_type:
    central: central
    septic: septicTank
    cesspool: cesspool
    none: none
  water_supply_type:
    central: central
    borehole: borehole
    well: well
    none: none
  land_area_unit:
    sotka: sotka
    sqm: sqm
